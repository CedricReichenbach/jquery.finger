<!doctype html>
<html>
<head>
    <title>jQuery Finger</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header></header>
    <main>
        <section>
            <h2>Try it...</h2>

            <div class="touchzone-wrapper">
                <div class="touchzone">
                    <div class="warp"></div>
                </div>
            </div>
            <p>
                jQuery Finger unifies click and touch events by removing the 300ms delay on touch devices. It also provide a common set of events to handle basic gestures such as drag and pinch. Small (< 1kb gzipped), it is focused on performance, is well tested and ... also supports jQuery delegated events.
            </p>
        </section>
        <section>
            <h2>Try it</h2>

            <p>
                jQuery Finger unifies click and touch events by removing the 300ms delay on touch devices. It also provide a common set of events to handle basic gestures such as drag and pinch. Small (< 1kb gzipped), it is focused on performance, is well tested and ... also supports jQuery delegated events.
            </p>
        </section>
    </main>
    <footer></footer>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="jquery.finger.min.js"></script>
    <script>
        var $touch = $('.touchzone');
        var $warp = $('.warp');

        $touch.on('tap', function(e) {
            console.log(e);
            var w = $touch.outerWidth(),
                h = $touch.outerHeight(),
                x = e.x - $touch.offset().left,
                y = e.y - $touch.offset().top;

            // XXX
            $('.touchzone-wrapper').css('perspective', $('.touchzone-wrapper').innerWidth());

            $touch
                .css({
                    transform: 'rotateY(' + (x / w * 60 - 30) + 'deg) rotateX(' + -(y / h * 60 - 30) + 'deg)'
                })
                .delay(400)
                .queue(function() {
                    $touch.css({ transform: 'none' });
                    $touch.dequeue();
                });

            $warp.css({
                transition: 'none',
                transform: 'scale(0)',
                opacity: 0,
                left: x - w / 20 - 8,
                top: y - w / 20 - 8,
                width: w / 10,
                height: w / 10
            });
            $warp[0].offsetWidth;
            $warp
                .css({
                    transition: '.2s',
                    transform: 'scale(1)',
                    opacity: .4
                }).delay(400)
                .queue(function() {
                    $warp.css({ transform: 'scale(0)', opacity: 0 });
                    $warp.dequeue();
                });
        });

        $touch.on('doubletap', function(e) {
            console.log(e);
            $warp
                .css({
                    transition: '.2s',
                    transform: 'scale(1.5)',
                    opacity: .8
                }).delay(400)
                .queue(function() {
                    $warp.css({ transform: 'scale(0)', opacity: 0 });
                    $warp.dequeue();
                });
        });
    </script>
</body>
</html>