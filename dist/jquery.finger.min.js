/*! jquery.finger - v0.0.8 - 2013-03-15
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(e){function t(e,t){return(r?t.originalEvent.touches[0]:t)["page"+e.toUpperCase()]}function n(n){var r={};r.move={x:t("x",n),y:t("y",n)},r.start=e.extend({time:n.timeStamp,target:n.target},r.move),e.event.add(this,d+".finger",o,r),e.event.add(this,v+".finger",a,r)}function o(n){var o=n.data;return o.move.x=t("x",n),o.move.y=t("y",n),o.move.dx=o.move.x-o.start.x,o.move.dy=o.move.y-o.start.y,o.move.adx=Math.abs(o.move.dx),o.move.ady=Math.abs(o.move.dy),o.motion=o.move.adx>e.Finger.motionThreshold||o.move.ady>e.Finger.motionThreshold,o.motion?(o.move.orientation||(o.move.adx>o.move.ady?(o.move.orientation="horizontal",o.move.direction=o.move.dx>0?1:-1):(o.move.orientation="vertical",o.move.direction=o.move.dy>0?1:-1)),n.target!==o.start.target?(n.target=o.start.target,a.call(this,e.Event(v+".finger",n)),void 0):(e.event.trigger(e.Event("drag"+e.expando,o.move),null,n.target),void 0)):void 0}function a(t){var n,r=t.data,i=t.timeStamp,s=e.data(this,"finger");t.target===r.start.target&&(r.motion?(n=i-r.start.time<e.Finger.flickDuration?"flick":"drag",r.move.end=!0,e.event.trigger(e.Event(n+e.expando,r.move),null,t.target)):(n=i-r.start.time<e.Finger.pressDuration?!s.prev||s.prev&&i-s.prev>e.Finger.doubleTapInterval?"tap":"doubletap":"press",s.prev=i,e.event.trigger(e.Event(n+e.expando,r.move),null,t.target)),e.event.remove(this,d+".finger",o),e.event.remove(this,v+".finger",a))}var r="ontouchstart"in window,i=r?"touchstart":"mousedown",v=r?"touchend touchcancel":"mouseup mouseleave",d=r?"touchmove":"mousemove";e.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};var s={setup:function(){e.data(this,"finger")||(e.event.add(this,i+".finger",n),e.data(this,"finger",{}))},add:function(t){e.event.add(this,t.type+e.expando,t.handler,null,t.selector)},remove:function(t){e.event.add(this,t.type+e.expando,t.handler,null,t.selector)},teardown:function(){e.data(this,"finger")&&(e.event.remove(this,i+".finger",n),e.data(this,"finger",null))}};e.event.special.tap=s,e.event.special.press=s,e.event.special.doubletap=s,e.event.special.drag=s,e.event.special.flick=s})(jQuery);