/*! jquery.finger - v0.0.4 - 2013-02-17
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(e){function t(t){return e._data(t,"events").finger}function n(e,t,n){return 3!=arguments.length?e?e[t]:void 0:(e&&(e[t]=n),void 0)}function a(t,n,a){e.event[t](n,i,r,null,a.selector),e.event[t](n,d,o,null,a.selector),e.event[t](n,s,u,null,a.selector)}function r(e){t(e.delegateTarget).start={time:e.timeStamp}}function o(e){var a=t(e.delegateTarget);a.start&&(n(a.tap,"canceled",!0),n(a.press,"canceled",!0))}function u(a){var r=t(a.delegateTarget),o=a.timeStamp,u=o-r.start.time<e.Finger.pressDuration?"tap":"press";if("tap"==u&&r.doubletap&&(o-r.doubletap.prev<e.Finger.doubleTapInterval?u="doubletap":r.doubletap.prev=o),r[u]&&!r[u].canceled){var l=r[u].handlers;for(var i in l)e.isFunction(l[i])&&l[i].apply(this,arguments)}r.start=null,n(r.tap,"canceled",!1),n(r.press,"canceled",!1)}var l="ontouchstart"in window,i=l?"touchstart":"mousedown",s=l?"touchend touchcancel":"mouseup",d=l?"touchmove":"mousemove";e.Finger={pressDuration:300,doubleTapInterval:300};var c={add:function(t){var n=e._data(this,"events");n.finger=n.finger||{};var r=n.finger;r.refCount||(a("add",this,t),r.refCount=0),r.refCount++,r[t.type]=r[t.type]||{handlers:[]},r[t.type].handlers[t.handler.guid]=t.handler},remove:function(t){var n=e._data(this,"events"),r=n.finger;return r.refCount--,0===r.refCount?(a("remove",this,t),n.finger=null,void 0):(r[t.type].handlers[t.handler.guid]=null,void 0)}};e.event.special.tap=c,e.event.special.press=c,e.event.special.doubletap=c})(jQuery);