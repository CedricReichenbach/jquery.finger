/*! jquery.finger - v0.0.6 - 2013-02-28
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(e){function t(t){return e._data(t,"events").finger}function n(e,t,n){return 3!=arguments.length?e?e[t]:void 0:(e&&(e[t]=n),void 0)}function a(t,n,a){e.event[t](n,v,r,null,a.selector),e.event[t](n,u,i,null,a.selector),e.event[t](n,s,d,null,a.selector)}function o(t,n,a){if(a[t]&&!a[t].canceled){e.extend(n,a.move);var o=a[t].handlers;for(var r in o)e.isFunction(o[r])&&o[r].call(n.currentTarget,n)}}function r(n){var a=t(n.delegateTarget);a.move={x:n.pageX,y:n.pageY},a.start=e.extend({time:n.timeStamp},a.move)}function i(a){var r=t(a.delegateTarget);r.start&&(r.move.x=a.pageX,r.move.y=a.pageY,r.move.dx=a.pageX-r.start.x,r.move.dy=a.pageY-r.start.y,r.move.adx=Math.abs(r.move.dx),r.move.ady=Math.abs(r.move.dy),r.move.adx<e.Finger.motionThreshold&&r.move.ady<e.Finger.motionThreshold||(r.move.orientation||(r.move.adx>r.move.ady?(r.move.orientation="horizontal",r.move.direction=r.move.dx>0?1:-1):(r.move.orientation="vertical",r.move.direction=r.move.dy>0?1:-1)),o("drag",a,r),n(r.tap,"canceled",!0),n(r.press,"canceled",!0)))}function d(a){var r,i=t(a.delegateTarget),d=a.timeStamp;r=d-i.start.time<e.Finger.pressDuration?"tap":"press","tap"==r&&i.doubletap&&(d-i.doubletap.prev<e.Finger.doubleTapInterval?r="doubletap":i.doubletap.prev=d),o(r,a,i),r=d-i.start.time<e.Finger.flickDuration?"flick":"drag",o(r,a,i),i.start=null,n(i.tap,"canceled",!1),n(i.press,"canceled",!1)}var l="ontouchstart"in window,v=l?"touchstart":"mousedown",s=l?"touchend touchcancel":"mouseup",u=l?"touchmove":"mousemove";e.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};var c={add:function(t){var n=e._data(this,"events");n.finger=n.finger||{};var o=n.finger;o.refCount||(a("add",this,t),o.refCount=0),o.refCount++,o[t.type]=o[t.type]||{handlers:[]},o[t.type].handlers[t.handler.guid]=t.handler},remove:function(t){var n=e._data(this,"events"),o=n.finger;return o.refCount--,0===o.refCount?(a("remove",this,t),n.finger=null,void 0):(o[t.type].handlers[t.handler.guid]=null,void 0)}};e.event.special.tap=c,e.event.special.press=c,e.event.special.doubletap=c,e.event.special.drag=c,e.event.special.flick=c})(jQuery);