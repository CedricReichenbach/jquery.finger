/*! jQuery Finger - v0.1.0 - 2013-02-12
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 ngryman; Licensed MIT */
(function(e){function s(t){return e._data(t,"events").finger}function o(e,t,n){e&&(e[t]=n)}function u(t,s,o){e.event[t](s,n,a,null,o.selector),e.event[t](s,i,f,null,o.selector),e.event[t](s,r,l,null,o.selector)}function a(e){s(e.delegateTarget).start={time:e.timeStamp}}function f(e){var t=s(e.delegateTarget);if(!t.start)return;o(t.tap,"canceled",!0),o(t.press,"canceled",!0)}function l(t){var n=s(t.delegateTarget),r=t.timeStamp,i=r-n.start.time<e.Finger.pressDuration?"tap":"press";"tap"===i&&n.doubletap&&(r-n.doubletap.prev<e.Finger.doubleTapInterval?i="doubletap":n.doubletap.prev=r);if(n[i]&&!n[i].canceled){var u=n[i].handlers;for(var a in u)e.isFunction(u[a])&&u[a].apply(this,arguments)}n.start=null,o(n.tap,"canceled",!1),o(n.press,"canceled",!1)}var t="ontouchstart"in window,n=t?"touchstart":"mousedown",r=t?"touchend touchcancel":"mouseup",i=t?"touchmove":"mousemove";e.Finger={pressDuration:300,doubleTapInterval:300};var c={add:function(t){var n=e._data(this,"events");n.finger=n.finger||{};var r=n.finger;r.refCount||(u("add",this,t),r.refCount=0),r.refCount++,r[t.type]=r[t.type]||{handlers:[]},r[t.type].handlers[t.handler.guid]=t.handler},remove:function(t){var n=e._data(this,"events"),r=n.finger;r.refCount--;if(0===r.refCount){u("remove",this,t),n.finger=null;return}r[t.type].handlers[t.handler.guid]=null}};e.event.special.tap=c,e.event.special.press=c,e.event.special.doubletap=c})(jQuery);