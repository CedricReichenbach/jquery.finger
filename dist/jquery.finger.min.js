/*! jquery.finger - v0.0.7 - 2013-03-12
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(e){function t(t){return e._data(t,"events").finger}function n(e,t,n){return 3!=arguments.length?e?e[t]:void 0:(e&&(e[t]=n),void 0)}function o(t,n,o){e.event[t](n,s,i,null,o.selector),e.event[t](n,c,d,null,o.selector),e.event[t](n,u,v,null,o.selector)}function a(e,t){return(l?t.originalEvent.touches[0]:t)["page"+e.toUpperCase()]}function r(t,n,o){if(o[t]&&!o[t].canceled){e.extend(n,o.move);var a=o[t].handlers;for(var r in a)e.isFunction(a[r])&&a[r].call(n.currentTarget,n)}}function i(n){var o=t(n.delegateTarget);o.move={x:a("x",n),y:a("y",n)},o.start=e.extend({time:n.timeStamp},o.move)}function d(o){var i=t(o.delegateTarget);i.start&&(i.move.x=a("x",o),i.move.y=a("y",o),i.move.dx=i.move.x-i.start.x,i.move.dy=i.move.y-i.start.y,i.move.adx=Math.abs(i.move.dx),i.move.ady=Math.abs(i.move.dy),i.move.adx<e.Finger.motionThreshold&&i.move.ady<e.Finger.motionThreshold||(i.move.orientation||(i.move.adx>i.move.ady?(i.move.orientation="horizontal",i.move.direction=i.move.dx>0?1:-1):(i.move.orientation="vertical",i.move.direction=i.move.dy>0?1:-1)),r("drag",o,i),n(i.tap,"canceled",!0),n(i.press,"canceled",!0)))}function v(o){var a,i=t(o.delegateTarget),d=o.timeStamp;i.start&&(a=d-i.start.time<e.Finger.pressDuration?"tap":"press","tap"==a&&i.doubletap&&(d-i.doubletap.prev<e.Finger.doubleTapInterval?a="doubletap":i.doubletap.prev=d),r(a,o,i),a=d-i.start.time<e.Finger.flickDuration?"flick":"drag",r(a,o,i),i.start=null,n(i.tap,"canceled",!1),n(i.press,"canceled",!1))}var l="ontouchstart"in window,s=l?"touchstart":"mousedown",u=l?"touchend touchcancel":"mouseup mouseleave",c=l?"touchmove":"mousemove";e.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};var m={add:function(t){var n=e._data(this,"events");n.finger=n.finger||{};var a=n.finger;a.refCount||(o("add",this,t),a.refCount=0),a.refCount++,a[t.type]=a[t.type]||{handlers:[]},a[t.type].handlers[t.handler.guid]=t.handler},remove:function(t){var n=e._data(this,"events"),a=n.finger;return a.refCount--,0===a.refCount?(o("remove",this,t),n.finger=null,void 0):(a[t.type].handlers[t.handler.guid]=null,void 0)}};e.event.special.tap=m,e.event.special.press=m,e.event.special.doubletap=m,e.event.special.drag=m,e.event.special.flick=m})(jQuery);