/*! jquery.finger - v0.0.9 - 2013-03-17
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(e){function t(e,t){return(a?t.originalEvent.touches[0]:t)["page"+e.toUpperCase()]}function o(o){var a={};a.move={x:t("x",o),y:t("y",o)},a.start=e.extend({time:o.timeStamp,target:o.target},a.move),e.event.add(this,m+".finger",n,a),e.event.add(this,v+".finger",r,a)}function n(o){var n=o.data;return n.move.x=t("x",o),n.move.y=t("y",o),n.move.dx=n.move.x-n.start.x,n.move.dy=n.move.y-n.start.y,n.move.adx=Math.abs(n.move.dx),n.move.ady=Math.abs(n.move.dy),n.motion=n.move.adx>e.Finger.motionThreshold||n.move.ady>e.Finger.motionThreshold,n.motion?(n.move.orientation||(n.move.adx>n.move.ady?(n.move.orientation="horizontal",n.move.direction=n.move.dx>0?1:-1):(n.move.orientation="vertical",n.move.direction=n.move.dy>0?1:-1)),o.target!==n.start.target?(o.target=n.start.target,r.call(this,e.Event(v+".finger",o)),void 0):(e.event.trigger(e.Event("drag",n.move),null,o.target),void 0)):void 0}function r(t){var o,a=t.data,i=t.timeStamp,s=e.data(this,"finger");t.target===a.start.target&&(a.motion?(o=i-a.start.time<e.Finger.flickDuration?"flick":"drag",a.move.end=!0,e.event.trigger(e.Event(o,a.move),null,t.target)):(o=i-a.start.time<e.Finger.pressDuration?!s.prev||s.prev&&i-s.prev>e.Finger.doubleTapInterval?"tap":"doubletap":"press",s.prev=i,e.event.trigger(e.Event(o,a.move),null,t.target)),e.event.remove(this,m+".finger",n),e.event.remove(this,v+".finger",r))}var a="ontouchstart"in window,i=a?"touchstart":"mousedown",v=a?"touchend touchcancel":"mouseup mouseleave",m=a?"touchmove":"mousemove";e.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};var s={setup:function(){e.data(this,"finger")||(e.event.add(this,i+".finger",o),e.data(this,"finger",{}))},teardown:function(){e.data(this,"finger")&&(e.event.remove(this,i+".finger",o),e.data(this,"finger",null))}};e.event.special.tap=s,e.event.special.press=s,e.event.special.doubletap=s,e.event.special.drag=s,e.event.special.flick=s})(jQuery);